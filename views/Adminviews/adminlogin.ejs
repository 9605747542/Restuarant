<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="" />
	<meta name="author" content="" />
	<meta name="robots" content="" />
	<meta name="description" content="Davur - Restaurant Bootstrap Admin Dashboard + FrontEnd" />
	<meta property="og:title" content="Davur - Restaurant Bootstrap Admin Dashboard + FrontEnd" />
	<meta property="og:description" content="Davur - Restaurant Bootstrap Admin Dashboard + FrontEnd" />
	<meta property="og:image" content="https://davur.dexignzone.com/dashboard/social-image.png" />
	<meta name="format-detection" content="telephone=no">
    <title>Davur - Restaurant Bootstrap Admin Dashboard + FrontEnd </title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="admin-assets/images/favicon.png">
    <link href="admin-assets/css/style.css" rel="stylesheet">

</head>

<body class="h-100">
    <div class="authincation h-100">
        <div class="container h-100">
            <div class="row justify-content-center h-100 align-items-center">
                <div class="col-xl-12">
					<div class="row align-items-center ">
						<div class="card login-card">
							<div class="card-body">
								<div class="row">
									<div class="col-xl-6">
										<div class="text-center my-5">
											<a href="index.html"><img src="admin-assets/images/logo-full.png" alt=""></a>
										</div>
										<div class="media-login">
											<img src="admin-assets/images/svg/student.svg" class="w-100" alt="">
										</div>
									</div>
									<div class="col-xl-6">
										<div class="auth-form">
											<h3 class="text-start mb-4 font-w600">Login to Admin</h3>
											<form action="/adminlogin" , method="POST">
												<div class="form-group">
													<label class="mb-1 text-black">Email<span class="required">*</span></label>
													<input type="email" class="form-control" placeholder="hello@gmail.com" name="email1" id="email">
												</div>
												<div class="form-group">
													<label class="mb-1 text-black">Password<span class="required">*</span></label>
													<input type="password" class="form-control" placeholder="********" name="password1" id="password">
												</div>
												<div class="form-row d-flex justify-content-between mt-4 mb-2">
													<div class="form-group">
													   <div class=" form-check ms-1 mb-2">
															<input type="checkbox" class="form-check-input" id="basic_checkbox_1">
															<label class="custom-control-label ms-1" for="basic_checkbox_1">I agree with Login<a href="javascript:void(0);">Terms & Conditions</a></label>
														</div>
														<div class=" form-check ms-1">
															<input type="checkbox" class="form-check-input" id="basic_checkbox_2">
															<label class="custom-control-label ms-1" for="basic_checkbox_2">Remember my preference</label>
														</div>
													</div>
												</div>
												<div class="text-center">
													<button type="submit" class="btn btn-primary btn-block" id="submitbtn">Sign In</button>
												</div>
											</form>
											<div class="new-account mt-3 d-flex align-items-center justify-content-between flex-wrap">
												<small class="mb-0">Don't have an account? <a class="text-primary" href="admin-assets//page-register.html">Sign up</a></small>
												<small href="page-forgot-password.html">Forgot Password?</small>
											</div>
													
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
                </div>
            </div>
        </div>
    </div>
	<script>
		document.getElementById('submitbtn').addEventListener('click', async function (event) {
			event.preventDefault();
			const emailDom = document.getElementById('email').value;
			const passwordDom = document.getElementById('password').value;
			console.log(passwordDom,"guhij");
	
			const formData1 = {
      email1:emailDom,
	  password1:passwordDom
      }
	  console.log(emailDom,passwordDom);
	
			// ...

try {
    const response = await fetch('/adminlogin', {
        method: 'post',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData1)
    });

    if (response.ok) {
        console.log(`Server returned the response as ${response.status}`);

        const data = await response.json();
        console.log('Server response:', data);  // Log the entire data object

        if (data.message === 'Welcome Admin') {
            console.log('Admin entered successfully!');
            window.location.href = '/dashboard';
        } else if (data.message === 'Not correct') {
            Swal.fire({
                title: 'Error!',
                text: data.error,  // Check the correct property for error message
                icon: 'error',
            });
        }else if(data.success===false){
			Swal.fire({
                title: 'Error!',
                text: data.error,  // Check the correct property for error message
                icon: 'error',
            });
		}
    } else {
        console.log(`Your getting response is not ok!!!`);
    }

} catch (error) {
    console.error(error);
    console.log('Error getting at the time of login');
}})

	</script>
	

    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="admin-assets/vendor/global/global.min.js"></script>
	<script src="admin-assets/vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="admin-assets/js/custom.min.js"></script>
    <script src="admin-assets/js/deznav-init.js"></script>
	

</body>

</html>